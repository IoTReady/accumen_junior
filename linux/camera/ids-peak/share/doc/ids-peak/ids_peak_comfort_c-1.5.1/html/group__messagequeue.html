<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IDS peak comfortC: Message Queue</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="vendorlogo1_Wx56-32_ids.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IDS peak comfortC
   &#160;<span id="projectnumber">v1.5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__messagequeue.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Message Queue</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__messagequeue__queue"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messagequeue__queue.html">Queue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__messagequeue__message"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messagequeue__message.html">Message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__messagequeue__data"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messagequeue__data.html">Message Data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gabdb418bc193c323215268808cda66cfc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__messagequeue.html#gabdb418bc193c323215268808cda66cfc">peak_message_type</a> { <br />
&#160;&#160;<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfcae4817d574d5fe172aeec0e77d8086949">PEAK_MESSAGE_TYPE_INVALID</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca8e4a46157aa84bbf45aa1324dfbf0a57">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_CRITICAL_ERROR</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca215ffc5ac5df5da959df198d8c8a5d3d">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_ERROR</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca326e4cfd2eecce6e7f7e6490a0a90376">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_EVENT_DROPPED</a>, 
<br />
&#160;&#160;<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca6d8b44f0fc2e6efbafd1f89029b8aaa6">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_EXPOSURE_START</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca9fd238419fd23ab55e7cdc23ff24169b">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_EXPOSURE_END</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca942013d7086b224861d4eb99be030dac">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_FRAME_START</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfcab125828645e24acd6430a63da4a31d68">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_FRAME_DROPPED</a>, 
<br />
&#160;&#160;<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca7f9844b4d4d46f60865712009c7647f9">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_MISSED_TRIGGER_EXPOSURE</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfcabed7662617dd68284b1768b8d721741b">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_MISSED_TRIGGER_LINE</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca3228b527361ff3eaea19248815e28569">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_PTP_MASTER_SYNC_LOST</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca1b79a892d50fd017757a26bf4470b240">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_TEMPERATURE</a>, 
<br />
&#160;&#160;<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca45e38326700113337ebcb19a9aaed52c">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_TEST</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca48ec0f58f62ba3ed57d9077f7574f9d2">PEAK_MESSAGE_TYPE_AUTO_FOCUS_ONCE_FINISHED</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca40b6f83aaf6d181e7f8b970b8ea3da30">PEAK_MESSAGE_TYPE_AUTO_FOCUS_NEW_DATA</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfcafe416944fcfc6c528c31312707f0fb79">PEAK_MESSAGE_TYPE_AUTO_WHITEBALANCE_ONCE_FINISHED</a>, 
<br />
&#160;&#160;<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfcade0f560d2cc14680f57c019183887936">PEAK_MESSAGE_TYPE_AUTO_BRIGHTNESS_GAIN_ONCE_FINISHED</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca2fa1d2194d4a55756866c77284ee714f">PEAK_MESSAGE_TYPE_AUTO_BRIGHTNESS_EXPOSURE_ONCE_FINISHED</a>, 
<a class="el" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca9629bf39c76826826f96bc72c67511ce">PEAK_MESSAGE_TYPE_AUTO_BRIGHTNESS_ONCE_FINISHED</a>
<br />
 }<tr class="memdesc:gabdb418bc193c323215268808cda66cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The peak message types.  <a href="group__messagequeue.html#gabdb418bc193c323215268808cda66cfc">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gabdb418bc193c323215268808cda66cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Message Queue is used to notify the user of changes by the api.</p>
<p>The MessageQueue is used to handle the remote device events, callbacks from the device manager and internal events. It is possible to have more than one message queue and each message queue can handle different messages. It is also possible for a single queue to handle multiple cameras.</p>
<p>In short, the following steps are needed to create a message queue: </p><ul>
<li>Create a new queue: <a class="el" href="group__messagequeue__queue.html#ga556d82c74a205709efb1a527e0837c16" title="Creates a new message queue. ">peak_MessageQueue_Create</a> </li>
<li>Enable the needed message types: <a class="el" href="group__messagequeue__queue.html#gacb5f75082c8ed7870ef0714418449532" title="Enable a message type for a message queue. ">peak_MessageQueue_EnableMessage</a> or <a class="el" href="group__messagequeue__queue.html#gaa836fc2d0038d14ef4696b8de2a224be" title="Enable a list of message types at once. ">peak_MessageQueue_EnableMessageList</a> (Supply <a class="el" href="group__numeric.html#ga5c456565e695b6f991cc51c0945c75db" title="peak Invalid handle value ">PEAK_INVALID_HANDLE</a> as <code>hCam</code> for system message types here) </li>
<li>Start the queue: <a class="el" href="group__messagequeue__queue.html#gac173df7d5450f0fa2ec250446a7bde46" title="Start the queue. ">peak_MessageQueue_Start</a></li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="group__messagequeue__queue.html#ga70f556919232179f7f8322c583331d0a">peak_message_queue_handle</a> hMessageQueue;</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__messagequeue__queue.html#ga556d82c74a205709efb1a527e0837c16">peak_MessageQueue_Create</a>(&amp;hMessageQueue) != <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>)</div><div class="line">{</div><div class="line">handle error</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__messagequeue__queue.html#gacb5f75082c8ed7870ef0714418449532">peak_MessageQueue_EnableMessage</a>(hMessageQueue, hCam, <a class="code" href="group__messagequeue.html#ggabdb418bc193c323215268808cda66cfca1b79a892d50fd017757a26bf4470b240">PEAK_MESSAGE_TYPE_REMOTE_DEVICE_TEMPERATURE</a>) != <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>)</div><div class="line">{</div><div class="line">handle error</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__messagequeue__queue.html#gac173df7d5450f0fa2ec250446a7bde46">peak_MessageQueue_Start</a>(hMessageQueue) != <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>)</div><div class="line">{</div><div class="line">handle error</div><div class="line">}</div></div><!-- fragment --><p>After this, the message queue needs to be pulled periodically by a call to <a class="el" href="group__messagequeue__queue.html#ga2ba7d766d23fb4c555188f9c7e47f37a" title="Wait for a new message. ">peak_MessageQueue_WaitForMessage</a>. The function call is blocking and only returns after the timeout expires, the queue is stopped by a call to <a class="el" href="group__messagequeue__queue.html#gaf0d229d0572f01d871d80ef9698537d9" title="Stop the queue. ">peak_MessageQueue_Stop</a> or a new message is received. Please also note, that the function may return with <a class="el" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68abf4038323fd9ffe131a311b103ec1126" title="A value was dropped. ">PEAK_STATUS_WARNING_OVERFLOW</a> in case the queue is overflowing and can't accept new messages. After processing the message it needs to be released by a call to <a class="el" href="group__messagequeue__message.html#gaacc05744a28f540288dd6587cb972d40" title="Release a message. ">peak_Message_Release</a>. </p><div class="fragment"><div class="line"><a class="code" href="group__messagequeue__message.html#ga79df9a206b00d0dd3be3bad4d65c65ec">peak_message_handle</a> hMessage;</div><div class="line"><a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> = <a class="code" href="group__messagequeue__queue.html#ga2ba7d766d23fb4c555188f9c7e47f37a">peak_MessageQueue_WaitForMessage</a>(hMessageQueue, <a class="code" href="group__numeric.html#ga769043b0886442dced8acc15f9c39017">PEAK_INFINITE</a>, &amp;hMessage);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status)) <span class="comment">// also handles #PEAK_STATUS_WARNING_OVERFLOW, as it&#39;s only a warning</span></div><div class="line">{</div><div class="line">    <span class="comment">// do something with message, e.g.</span></div><div class="line">    <a class="code" href="structpeak__message__info.html">peak_message_info</a> message_info;</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__messagequeue__message.html#ga121d05ecf759d0e8a4a48396b3a3df3a">peak_Message_GetInfo</a>(hMessage, &amp;message_info) == <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// work with message info e.g.</span></div><div class="line">        printf(<span class="stringliteral">&quot;New Message: %d\n&quot;</span>, message_info-&gt;<a class="code" href="structpeak__message__info.html#a8059291dc7ba4c3ae67d1fc12294cbb8">type</a>);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// don&#39;t forget to release the message!</span></div><div class="line">    <a class="code" href="group__messagequeue__message.html#gaacc05744a28f540288dd6587cb972d40">peak_Message_Release</a>(hMessage);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68aeaae1cb4db72f3fd62caf45c2e44cb5d">PEAK_STATUS_ABORTED</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// handle abort</span></div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    <span class="comment">// handle serious error</span></div><div class="line">}</div></div><!-- fragment --><p>If the message has additional data (if <a class="el" href="structpeak__message__info.html#aeba5f8ef0f3a00d97bc70bec828725a6" title="message data type (if any). See peak_Message_Data_Type_Get for a description of each type...">peak_message_info::dataType</a> is not <a class="el" href="group__messagequeue__data.html#gga6abe309274397cf3bc49fe157230a294a47567ae7ea753599b27a750824d4ed29" title="No data message data type. ">PEAK_MESSAGE_DATA_TYPE_NO_DATA</a>), the correct function for the type needs to be called. The correlation is as follows: </p><ul>
<li><a class="el" href="group__messagequeue__data.html#gga6abe309274397cf3bc49fe157230a294a47567ae7ea753599b27a750824d4ed29" title="No data message data type. ">PEAK_MESSAGE_DATA_TYPE_NO_DATA</a>: No data is associated with the message. </li>
<li><a class="el" href="group__messagequeue__data.html#gga6abe309274397cf3bc49fe157230a294a382919c05f67e7bf08aa6eb14b743ae9" title="Remote device message data type. ">PEAK_MESSAGE_DATA_TYPE_REMOTE_DEVICE</a>: Call <a class="el" href="group__messagequeue__data.html#ga3ac55e2df0e1f5cb6316d776e891a02b" title="Get the message data for remote device types. ">peak_Message_Data_RemoteDevice_Get</a>. </li>
<li><a class="el" href="group__messagequeue__data.html#gga6abe309274397cf3bc49fe157230a294a32c59e840b21d1611a2eb46cc0ac2042" title="Remote device error message data type. ">PEAK_MESSAGE_DATA_TYPE_REMOTE_DEVICE_ERROR</a>: Call <a class="el" href="group__messagequeue__data.html#gaac113d5aaf2b4a03bb67ff44fc6a4b24" title="Get the message data for remote device error types. ">peak_Message_Data_RemoteDeviceError_Get</a>. </li>
<li><a class="el" href="group__messagequeue__data.html#gga6abe309274397cf3bc49fe157230a294a3a5c78ebbae36f51ab0ea70411e663cf" title="Remote device dropped message data type. ">PEAK_MESSAGE_DATA_TYPE_REMOTE_DEVICE_DROPPED</a>: Call <a class="el" href="group__messagequeue__data.html#ga94c78b93fbcd295aa752db115820d6be" title="Get the message data for remote device dropped types. ">peak_Message_Data_RemoteDeviceDropped_Get</a>. </li>
<li><a class="el" href="group__messagequeue__data.html#gga6abe309274397cf3bc49fe157230a294a56c40973bcb1fe9cbc186777e9f477fc" title="Remote device frame message data type. ">PEAK_MESSAGE_DATA_TYPE_REMOTE_DEVICE_FRAME</a>: Call <a class="el" href="group__messagequeue__data.html#gac63ff59e46649a81000a8b57a410d8ac" title="Get the message data for remote device frame types. ">peak_Message_Data_RemoteDeviceFrame_Get</a>. </li>
<li><a class="el" href="group__messagequeue__data.html#gga6abe309274397cf3bc49fe157230a294ab565a8b134b97de629dc0db41fe63618" title="Remote device temperature message data type. ">PEAK_MESSAGE_DATA_TYPE_REMOTE_DEVICE_TEMPERATURE</a>: Call <a class="el" href="group__messagequeue__data.html#gaffdb6d5a821fc1e9fd529bd1f984b0db" title="Get the message data for remote device temperature types. ">peak_Message_Data_RemoteDeviceTemperature_Get</a>. </li>
<li><a class="el" href="group__messagequeue__data.html#gga6abe309274397cf3bc49fe157230a294abb0717070e322e9047bab1be9396f304" title="Autofeature auto focus data message data type. ">PEAK_MESSAGE_DATA_TYPE_AUTOFOCUS_DATA</a>: Call <a class="el" href="group__messagequeue__data.html#ga415b05b7352784416545f54be44332fa" title="Get the message data for auto focus data types. ">peak_Message_Data_AutoFocusData_Get</a>.</li>
</ul>
<p>The following example shows the call to <a class="el" href="group__messagequeue__data.html#gaffdb6d5a821fc1e9fd529bd1f984b0db" title="Get the message data for remote device temperature types. ">peak_Message_Data_RemoteDeviceTemperature_Get</a>. Calls to the other functions are likewise: </p><div class="fragment"><div class="line"><a class="code" href="structpeak__message__data__remote__device__temperature.html">peak_message_data_remote_device_temperature</a> remoteDeviceTemperature;</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__messagequeue__data.html#gaffdb6d5a821fc1e9fd529bd1f984b0db">peak_Message_Data_RemoteDeviceTemperature_Get</a>(hMessage, &amp;remoteDeviceTemperature) == PEAK_STATUS_SUCCCESS)</div><div class="line">{</div><div class="line">    <span class="keywordtype">double</span> fahrenheit = remoteDeviceTemperature.<a class="code" href="structpeak__message__data__remote__device__temperature.html#ab4b11c8d9c758430960896bc3fe82ead">temperature</a> * 9.0 / 5.0 + 32.0;</div><div class="line"></div><div class="line">    printf(<span class="stringliteral">&quot;DeviceTimestamp: %&quot;</span> PRIu64 <span class="stringliteral">&quot;, Temperature: %.2f °C / %.2f °F&quot;</span>,</div><div class="line">        remoteDeviceTemperature.<a class="code" href="structpeak__message__data__remote__device__temperature.html#af0a16c4ead4af159aad0688cc8b776e0">timestamp_ns</a>, remoteDeviceTemperature.<a class="code" href="structpeak__message__data__remote__device__temperature.html#ab4b11c8d9c758430960896bc3fe82ead">temperature</a>, fahrenheit);</div><div class="line">}</div></div><!-- fragment --><p>To stop the message queue and release <a class="el" href="group__messagequeue__queue.html#ga2ba7d766d23fb4c555188f9c7e47f37a" title="Wait for a new message. ">peak_MessageQueue_WaitForMessage</a> if <a class="el" href="group__numeric.html#ga769043b0886442dced8acc15f9c39017" title="peak Infinite value ">PEAK_INFINITE</a> was supplied, call <a class="el" href="group__messagequeue__queue.html#gaf0d229d0572f01d871d80ef9698537d9" title="Stop the queue. ">peak_MessageQueue_Stop</a>: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__messagequeue__queue.html#gaf0d229d0572f01d871d80ef9698537d9">peak_MessageQueue_Stop</a>(hMessageQueue) != PEAK_STATUS_SUCCCESS)</div><div class="line">{</div><div class="line">handle error</div><div class="line">}</div></div><!-- fragment --><p>To destroy the message queue, call <a class="el" href="group__messagequeue__queue.html#gad8631bebd17a092118f1d01903f0ee74" title="Destroy a message queue. ">peak_MessageQueue_Destroy</a>. After the call the handle is invalid and can no longer be used: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__messagequeue__queue.html#gad8631bebd17a092118f1d01903f0ee74">peak_MessageQueue_Destroy</a>(hMessageQueue) != PEAK_STATUS_SUCCCESS)</div><div class="line">{</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div></div><!-- fragment --><p>The following diagram shows the needed steps to create, configure, handle and destroy a message queue: </p><div class="image">
<img src="message_queue.png" alt="message_queue.png"/>
<div class="caption">
Message queue sequence diagram</div></div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gabdb418bc193c323215268808cda66cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdb418bc193c323215268808cda66cfc">&#9670;&nbsp;</a></span>peak_message_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__messagequeue.html#gabdb418bc193c323215268808cda66cfc">peak_message_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The peak message types. </p>
<p>Enumeration of valid message types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfcae4817d574d5fe172aeec0e77d8086949"></a>PEAK_MESSAGE_TYPE_INVALID&#160;</td><td class="fielddoc"><p>Invalid message type. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca8e4a46157aa84bbf45aa1324dfbf0a57"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_CRITICAL_ERROR&#160;</td><td class="fielddoc"><p>Remote device critical error message type. This will be generated when a critical error is detected. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca215ffc5ac5df5da959df198d8c8a5d3d"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_ERROR&#160;</td><td class="fielddoc"><p>Remote device error message type. This will be generated when an error is detected. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca326e4cfd2eecce6e7f7e6490a0a90376"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_EVENT_DROPPED&#160;</td><td class="fielddoc"><p>Remote device event dropped message type. Will be generated when one or more events are lost. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca6d8b44f0fc2e6efbafd1f89029b8aaa6"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_EXPOSURE_START&#160;</td><td class="fielddoc"><p>Remote device exposure start message type. The camera started the exposure of a frame (or line in Linescan mode). </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca9fd238419fd23ab55e7cdc23ff24169b"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_EXPOSURE_END&#160;</td><td class="fielddoc"><p>Remote device exposure end message type. The camera completed the exposure of a frame (or line in Linescan mode). </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca942013d7086b224861d4eb99be030dac"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_FRAME_START&#160;</td><td class="fielddoc"><p>Remote device frame start message type. The camera started the capture of a frame. Only available in Linescan mode. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfcab125828645e24acd6430a63da4a31d68"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_FRAME_DROPPED&#160;</td><td class="fielddoc"><p>Remote device frame dropped message type. Will be generated when one or more frames are lost. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca7f9844b4d4d46f60865712009c7647f9"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_MISSED_TRIGGER_EXPOSURE&#160;</td><td class="fielddoc"><p>Remote device missed trigger exposure message type. The camera missed a trigger to start the exposure. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfcabed7662617dd68284b1768b8d721741b"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_MISSED_TRIGGER_LINE&#160;</td><td class="fielddoc"><p>Remote device missed trigger line message type. The camera missed a trigger to start the capture of a line. Only available in Linescan mode. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca3228b527361ff3eaea19248815e28569"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_PTP_MASTER_SYNC_LOST&#160;</td><td class="fielddoc"><p>Remote device missed ptp master sync lost message type. It will be generated when ptp master sync is lost. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca1b79a892d50fd017757a26bf4470b240"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_TEMPERATURE&#160;</td><td class="fielddoc"><p>Remote device temperature message type. It will be generated when the temperature deviates by more than 0.5 degrees from the previous value. </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca45e38326700113337ebcb19a9aaed52c"></a>PEAK_MESSAGE_TYPE_REMOTE_DEVICE_TEST&#160;</td><td class="fielddoc"><p>Remote device test message type. It will be generated by calling the TestEventGenerate command node. (Note: use GFA here) </p>
<dl class="section note"><dt>Note</dt><dd>Camera message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca48ec0f58f62ba3ed57d9077f7574f9d2"></a>PEAK_MESSAGE_TYPE_AUTO_FOCUS_ONCE_FINISHED&#160;</td><td class="fielddoc"><p>Autofeature auto focus once finished message type. It will be generated when the host auto focus finished in <a class="el" href="group__generics.html#ggad66db1a4a1c13f028ca2b6d143b4a891ae862bacf31dfc821482ddae955416830" title="Auto feature mode Once. ">PEAK_AUTO_FEATURE_MODE_ONCE</a> mode. See <a class="el" href="group__host__auto__focus.html">Auto focus control</a> for how to use it. It is only available for auto focus cameras. </p>
<dl class="section note"><dt>Note</dt><dd>Autofeature message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca40b6f83aaf6d181e7f8b970b8ea3da30"></a>PEAK_MESSAGE_TYPE_AUTO_FOCUS_NEW_DATA&#160;</td><td class="fielddoc"><p>Autofeature auto focus new data message type. It will be generated by host auto focus for each Focus value with its corresponding sharpness value. See <a class="el" href="group__host__auto__focus.html">Auto focus control</a> for how to use it. It is only available for auto focus cameras. </p>
<dl class="section note"><dt>Note</dt><dd>Autofeature message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfcafe416944fcfc6c528c31312707f0fb79"></a>PEAK_MESSAGE_TYPE_AUTO_WHITEBALANCE_ONCE_FINISHED&#160;</td><td class="fielddoc"><p>Autofeature auto whitebalance once finished message type. It will be generated when the host auto whitebalance finished in <a class="el" href="group__generics.html#ggad66db1a4a1c13f028ca2b6d143b4a891ae862bacf31dfc821482ddae955416830" title="Auto feature mode Once. ">PEAK_AUTO_FEATURE_MODE_ONCE</a> mode. See <a class="el" href="group__host__auto__white__balance.html">Auto white balance control</a> for how to use it. </p>
<dl class="section note"><dt>Note</dt><dd>Autofeature message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfcade0f560d2cc14680f57c019183887936"></a>PEAK_MESSAGE_TYPE_AUTO_BRIGHTNESS_GAIN_ONCE_FINISHED&#160;</td><td class="fielddoc"><p>Autofeature auto brightness gain once finished message type. It will be generated when the host auto brightness gain part finished in <a class="el" href="group__generics.html#ggad66db1a4a1c13f028ca2b6d143b4a891ae862bacf31dfc821482ddae955416830" title="Auto feature mode Once. ">PEAK_AUTO_FEATURE_MODE_ONCE</a> mode. See <a class="el" href="group__host__auto__brightness.html">Auto brightness control</a> for how to use it. </p>
<dl class="section note"><dt>Note</dt><dd>Autofeature message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca2fa1d2194d4a55756866c77284ee714f"></a>PEAK_MESSAGE_TYPE_AUTO_BRIGHTNESS_EXPOSURE_ONCE_FINISHED&#160;</td><td class="fielddoc"><p>Autofeature auto brightness exposure once finished message type. It will be generated when the host auto brightness exposure part finished in <a class="el" href="group__generics.html#ggad66db1a4a1c13f028ca2b6d143b4a891ae862bacf31dfc821482ddae955416830" title="Auto feature mode Once. ">PEAK_AUTO_FEATURE_MODE_ONCE</a> mode. See <a class="el" href="group__host__auto__brightness.html">Auto brightness control</a> for how to use it. </p>
<dl class="section note"><dt>Note</dt><dd>Autofeature message </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb418bc193c323215268808cda66cfca9629bf39c76826826f96bc72c67511ce"></a>PEAK_MESSAGE_TYPE_AUTO_BRIGHTNESS_ONCE_FINISHED&#160;</td><td class="fielddoc"><p>Autofeature auto brightness once finished message type. It will be generated when the host auto brightness finished in <a class="el" href="group__generics.html#ggad66db1a4a1c13f028ca2b6d143b4a891ae862bacf31dfc821482ddae955416830" title="Auto feature mode Once. ">PEAK_AUTO_FEATURE_MODE_ONCE</a> mode. See <a class="el" href="group__host__auto__brightness.html">Auto brightness control</a> for how to use it. </p>
<dl class="section note"><dt>Note</dt><dd>Autofeature message </dd></dl>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <!-- Hide NavPath for now --><!--  -->
    <li class="footer">Generated on Fri Oct 27 2023 - &copy; <a style="color: #000000;text-decoration:none;" href="http://www.ids-imaging.com">IDS Imaging Development Systems GmbH</a></li>
  </ul>
</div>
</body>
</html>
