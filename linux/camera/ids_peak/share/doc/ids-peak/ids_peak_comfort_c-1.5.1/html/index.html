<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IDS peak comfortC: Main page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="vendorlogo1_Wx56-32_ids.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IDS peak comfortC
   &#160;<span id="projectnumber">v1.5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Main page </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>IDS peak comfortC provides access to the complete set of features that is required to operate IDS cameras. <br />
The main objective of IDS peak comfortC is to encapsulate the underlying GenICam standard technology and to free the user from the requirement to have a deeper understanding of the GenICam standard and its abstract paradigms.</p>
<p>Technically IDS peak comfortC encapsulates the IDS peak genericSDK as its <a class="el" href="index.html#term_backend">Backend</a>.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Prerequisites</h2>
<p>The library requires the use of C99 for the client application.</p>
<p>Qt of at least version 5.7 and C++14 is required for the GUI samples. <br />
Qt must be installed on the system if you want to compile the sample code by yourself. <br />
For Linux Qt must also be in installed to run the GUI samples.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
How to use</h2>
<p>In order to use IDS peak comfortC you need to include the interface header file <a class="el" href="ids__peak__comfort__c_8h.html" title="Interface definition file for IDS peak comfortC. ">ids_peak_comfort_c.h</a> and link your application with the ids_peak_comfort_c library.</p>
<p>In order to run an application the shared libraries must be found by the system. <br />
For Windows copy the deployed shared libraries (dll) into the folder with the applications executable. <br />
For Linux add the path to the deployed shared libraries (so) to LD_LIBRARY_PATH.</p>
<h1><a class="anchor" id="terms"></a>
Terms</h1>
<p>This section defines several terms that are used throughout the IDS peak comfortC library.</p>
<h2><a class="anchor" id="term_library"></a>
Library</h2>
<p>The term library is used to refer to the IDS peak comfortC library and its implementation.</p>
<h2><a class="anchor" id="term_backend"></a>
Backend</h2>
<p>The term backend is used to refer to the backend of the IDS peak comfortC library which is the IDS peak genericSDK. <br />
IDS peak genericSDK is built by IDS peak API and the IDS peak IPL.</p>
<h2><a class="anchor" id="term_convenience_interface"></a>
Convenience Interface</h2>
<p>All feature-related functions of IDS peak comfortC together are referred to as the convenience interface of the library.</p>
<p>The <a class="el" href="index.html#concept_generic_feature_access">Generic Feature Access (GFA)</a> functions do not belong to the convenience interface.</p>
<h2><a class="anchor" id="term_application"></a>
Application</h2>
<p>The term application is used to refer to the user application, i.e. to the IDS peak comfortC client program.</p>
<h2><a class="anchor" id="term_access_status"></a>
Access Status</h2>
<p>The access status of a feature or a camera indicates the current availability of the feature or the camera.</p>
<p>A feature or camera can reside permanently or temporarily in a certain access status. For example:</p><ul>
<li>A feature may be permanently 'not supported' for a camera because the camera does not implement it.</li>
<li>A feature may be temporarily 'read only' depending on the status of another feature, e.g. acquisition running.</li>
<li>A camera may be temporarily 'not accessible' while it is opened in a different application.</li>
<li>An ethernet camera may be temporarily 'not accessible' because its IP configuration is incompatible.</li>
</ul>
<p>The current access status of a feature or camera can be queried via specific functions. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="index.html#principle_access_status_query">Access Status Query</a></dd></dl>
<h2><a class="anchor" id="term_enabled_status"></a>
Enabled Status</h2>
<p>The enabled status of a feature indicates whether the feature is currently enabled or disabled.</p>
<p>The enabled status can take the boolean values <a class="el" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7" title="peak Boolean value for &#39;true&#39; or &#39;yes&#39; ">PEAK_TRUE</a> for enabled and <a class="el" href="group__numeric.html#ga1b38d011f09fcaa45cb3eadbfbc7b9b5" title="peak Boolean value for &#39;false&#39; or &#39;no&#39; ">PEAK_FALSE</a> for disabled.</p>
<p>The current enabled status of a feature can be queried via specific functions. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="index.html#principle_enabled_status_query">Enabled Status Query</a></dd></dl>
<h2><a class="anchor" id="term_frame"></a>
Frame</h2>
<p>A frame is an entity of bulk data which was acquired from a camera. <br />
It combines the memory <a class="el" href="index.html#term_buffer">Buffer</a> to which the bulk data was received and the meta information on the properties of the data.</p>
<p>Typically, a frame represents an acquired image. <br />
But it can also represent other types of bulk data received from a camera. The type of data that a frame represents depends on the camera settings.</p>
<h2><a class="anchor" id="term_buffer"></a>
Buffer</h2>
<p>A buffer is an entity in the computer memory which can store a certain amount of data.</p>
<p>A buffer is defined by its memory address and the size of the memory in bytes. <br />
In addition a buffer can store a user defined pointer for context purposes.</p>
<h2><a class="anchor" id="term_buffer_underrun"></a>
Buffer Underrun</h2>
<p>A buffer underrun is counted when a frame transmission arrives but there is no image buffer available to store it to.</p>
<p>This is the case when all image buffers are locked for the reception of incoming image data. The library automatically locks an image buffer after it was filled with image data. The buffer is then not available to store newly incoming image data until it has been delivered to the application via <a class="el" href="group__acquisition__and__buffer__preparation.html#ga88c3a24e77a8e0936ec17ca723edcad5" title="Wait for an acquired frame. ">peak_Acquisition_WaitForFrame</a> and released via <a class="el" href="group__frame.html#ga8cbd389a450a161e1b6f9e5c72cedba5" title="Release a frame. ">peak_Frame_Release</a>. So, the application is responsible for unlocking the buffer via <a class="el" href="group__frame.html#ga8cbd389a450a161e1b6f9e5c72cedba5" title="Release a frame. ">peak_Frame_Release</a>.</p>
<p>In order to avoid buffer underruns in an application</p><ul>
<li>minimize the time a buffer is locked. If the time that a buffer is locked regularly exceeds the frame time (i.e. the reciprocal frame rate) you will inevitably get buffer underruns.</li>
<li>increase the number of image buffers the implementation can use. If the time that a buffer is locked <em>occasionally</em> exceeds the frame time increasing the number of announced buffers can avoid buffer underruns. In <a class="el" href="index.html#concept_manual_buffer_preparation">Manual Buffer Preparation</a> mode the number of buffers is defined by the number of calls to <a class="el" href="group__manual__buffer__preparation.html#gaa4279b179422bc32a3fadafbfa87bd03" title="Announce an image buffer. ">peak_Acquisition_Buffer_Announce</a>.</li>
</ul>
<h2><a class="anchor" id="term_dropped_frame"></a>
Dropped Frame</h2>
<p>A dropped frame is counted when the frame id of a received frame jumps forward in respect to the last received frame.</p>
<p>This is the case when the camera is not able to transmit or to buffer an acquired image. <br />
This situation typically arises when the cameras' acquisition rate is higher than the rate of frames that it can transmit via the bus.</p>
<p>In order to avoid dropped frames in an application</p><ul>
<li>choose an acquisition frame rate that does not overstrain the available bus bandwidth.</li>
<li>minimize the occurrence of incomplete frames, see <a class="el" href="index.html#term_incomplete_frame">Incomplete Frame</a>.</li>
</ul>
<h2><a class="anchor" id="term_incomplete_frame"></a>
Incomplete Frame</h2>
<p>An incomplete frame is counted when a frame could not be completely transmitted from the camera to the host.</p>
<p>A frame is usually transmitted in a number of transmission units, so-called packets. If at least one of the packets could not be correctly transmitted for a frame, this frame is referred to as incomplete.</p>
<p>This is a typical issue for Ethernet connections as the underlying UDP transport protocol is not reliable, i.e. there is no guarantee of delivery, ordering, or duplicate protection of the transmitted data packets. <br />
Even if the transport layer implements recovery actions for this issue it may not be able to fully prevent packet loss.</p>
<p>In order to minimize incompletes in an application</p><ul>
<li>make sure the total acquired bus bandwidth does not exceed the available bus bandwidth in any segment of the connection.</li>
<li>take care that the cabling is of sufficient quality and protected from environmental electromagnetic influences.</li>
</ul>
<h1><a class="anchor" id="principles"></a>
Core Principles</h1>
<p>This section describes some basic principles and programming paradigms of the library.</p>
<p>The application programmer can rely on the library following these principles' throughput the whole interface.</p>
<h2><a class="anchor" id="principle_strong_exception_safety"></a>
Strong Exception Safety</h2>
<p>Wherever possible the library guarantees strong exception safety.</p>
<p>Strong exception safety is also known as commit or rollback semantics. <br />
The point of strong exception safety is that a failed operation has no side effects. This means that the system status after a failed function is the same as it was before the function call.</p>
<p>Please note that may not be possible to achieve this goal for every specific situation.</p>
<h2><a class="anchor" id="principle_function_return_values"></a>
Function Return Values</h2>
<p>In principle all functions of the library return a status code of type <a class="el" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a>.</p>
<p>If a function succeeds it will return <a class="el" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>. The macro <a class="el" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a> can be used to test a returned status code for indication of success. <br />
If a function fails it will return an error code. The macro <a class="el" href="group__status.html#ga5095dbd78f6442023906c4d1b26e45eb">PEAK_ERROR</a> can be used to test a returned status code for failure indication.</p>
<p>It is strongly recommended checking the return value of every library function call for an error indication.</p>
<p>In addition, there is a third class of status codes which indicate a warning level status. The macro <a class="el" href="group__status.html#gae06b9e36f7bd272db3c80295341c0452">PEAK_WARNING</a> can be used to test a returned status code for indication of a warning. <br />
An example for a warning level status code is <a class="el" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a1c7ceca3cb6c527715d67e02904508b4">PEAK_STATUS_VALUE_ADJUSTED</a> which indicates that the function was not able to apply the exact desired value to a feature and that the value has been adjusted to for example the nearest valid neighbor.</p>
<p>If a function returns an error code, i.e. <a class="el" href="group__status.html#ga5095dbd78f6442023906c4d1b26e45eb">PEAK_ERROR</a> returns <a class="el" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a> on the status code, the details on the error can be queried via <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>. See also <a class="el" href="index.html#principle_last_error_handling">Last Error Handling</a>.</p>
<dl class="section note"><dt>Note</dt><dd>There are certain groups of library functions which deviate from the principle that all functions return a <a class="el" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> code. For an explanation of these function groups see <ul>
<li><a class="el" href="index.html#principle_access_status_query">Access Status Query</a> </li>
<li><a class="el" href="index.html#principle_boolean_status_queries">Boolean Status Queries</a> </li>
<li><a class="el" href="index.html#principle_camera_id_query">Camera ID Query</a></li>
</ul>
</dd></dl>
<h2><a class="anchor" id="principle_last_error_handling"></a>
Last Error Handling</h2>
<p>The library stores the last error separately for each application thread.</p>
<p>A descriptive message on the last error that occurred in the current thread context can be queried via <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>. This message describes the error and its cause in as much detail as possible.</p>
<p>The last error is not cleared after <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a> has been called. <br />
It is therefore strongly advised to evaluate the last error only in the immediate context of a failed library function call, i.e. a library function indicating an error by a <a class="el" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> error code or by <a class="el" href="group__status.html#ggac2a579ed0583aa95cac96738cdb7a44ca283891be31a435355d06a031da626106">PEAK_ACCESS_INVALID</a>.</p>
<p>A code example on how to query the last error is given in the section <a class="el" href="index.html#principle_two_stage_query">Two Staged Data Query</a>.</p>
<dl class="section note"><dt>Note</dt><dd>In case <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a> itself fails it will return the appropriate error code, but it will not store the error internally so that succeeding calls to <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a> will still be able to report the original error.</dd></dl>
<h2><a class="anchor" id="principle_two_stage_query"></a>
Two Staged Data Query</h2>
<p>Several library functions provide data of dynamic size in a memory buffer that is to be provided by the application. As the size of the data depends on the required memory buffer size can not be known a priori.</p>
<p>To access such data the application should implement the following procedure:</p><ul>
<li>Stage One: Query the required size of the memory buffer by calling the function with the buffer parameter set to NULL.</li>
<li>Stage Two: Receive the data by calling the function with a buffer that was allocated to the size that Stage one returned.</li>
</ul>
<p>The following code demonstrates this procedure by the example of <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b" title="Query the last error. ">peak_Library_GetLastError</a>. </p><div class="fragment"><div class="line"><a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> errCode = <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>;</div><div class="line"><span class="keywordtype">char</span>* errMsg = NULL;</div><div class="line"><span class="keywordtype">size_t</span> errMsgSize = 0;</div><div class="line"></div><div class="line"><span class="comment">// For peak_Library_GetLastError the second parameter is the buffer parameter.</span></div><div class="line"><span class="comment">// For Stage One, i.e. the size query, we pass a buffer parameter of NULL.</span></div><div class="line"><a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> status = <a class="code" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>(&amp;errCode, NULL, &amp;errMsgSize);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The size of the last error message was successfully stored in errMsgSize.</span></div><div class="line">    <span class="comment">// This is the size of memory we have to allocate to receive the message.</span></div><div class="line">    errMsg = (<span class="keywordtype">char</span>*)malloc(errMsgSize);</div><div class="line">    memset(errMsg, 0, errMsgSize);</div><div class="line"></div><div class="line">    <span class="comment">// For Stage Two, i.e. the data query, we pass the allocated memory as the buffer parameter.</span></div><div class="line">    status = <a class="code" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>(&amp;errCode, errMsg, &amp;errMsgSize);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// The last error message was successfully stored in errMsg.</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p> The following code demonstrates this procedure by the example of <a class="el" href="group__camera.html#gabc14b8ade00e5ef626ad7a436d800a07" title="Query the current camera list. ">peak_CameraList_Get</a>. </p><div class="fragment"><div class="line"><a class="code" href="structpeak__camera__descriptor.html">peak_camera_descriptor</a>* cameraList = NULL;</div><div class="line"><span class="keywordtype">size_t</span> cameraCount = 0;</div><div class="line"></div><div class="line"><span class="comment">// For peak_CameraList_Get the first parameter is the buffer parameter.</span></div><div class="line"><span class="comment">// For Stage One, i.e. the size query, we pass a buffer parameter of NULL.</span></div><div class="line"><a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> status = <a class="code" href="group__camera.html#gabc14b8ade00e5ef626ad7a436d800a07">peak_CameraList_Get</a>(NULL, &amp;cameraCount);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The size of the camera list was successfully stored in cameraCount.</span></div><div class="line">    <span class="comment">// We need to allocate a memory buffer that can store this number of camera descriptors.</span></div><div class="line">    cameraList = (<a class="code" href="structpeak__camera__descriptor.html">peak_camera_descriptor</a>*)malloc(cameraCount * <span class="keyword">sizeof</span>(<a class="code" href="structpeak__camera__descriptor.html">peak_camera_descriptor</a>));</div><div class="line">    memset(cameraList, 0, cameraCount * <span class="keyword">sizeof</span>(<a class="code" href="structpeak__camera__descriptor.html">peak_camera_descriptor</a>));</div><div class="line"></div><div class="line">    <span class="comment">// For Stage Two, i.e. the data query, we pass the allocated memory as the buffer parameter.</span></div><div class="line">    status = <a class="code" href="group__camera.html#gabc14b8ade00e5ef626ad7a436d800a07">peak_CameraList_Get</a>(cameraList, &amp;cameraCount);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// The camera list was successfully stored in cameraList.</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The list of connected camera may change in the time between Stage One and Stage Two if a call to <a class="el" href="group__camera.html#ga24ae3859d744f8626d490a6b49a49427" title="Update the camera list. ">peak_CameraList_Update</a> is executed in this time, for example in a different thread. <br />
 If the implementation detects more cameras in Stage Two than it has detected in Stage One the function will return with <a class="el" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a10f6a4f6de3363b07d224bbce5f0697e" title="The buffer is too small to take the complete data. ">PEAK_STATUS_BUFFER_TOO_SMALL</a>. <br />
 If the implementation detects fewer cameras in Stage Two than it has detected in Stage One the function will fill the buffer with the camera descriptors of the connected cameras and return the number of used list slots in <code>cameraCount</code>.</dd></dl>
<p>The following code demonstrates this procedure by the example of <a class="el" href="group__pixelformat.html#ga38a90a792e13c860c9a13cab4e64e4a8" title="Get the list of currently selectable pixel formats. ">peak_PixelFormat_GetList</a>. </p><div class="fragment"><div class="line"><a class="code" href="group__pixelformat.html#ga6ed04f9d3e7600ff206598a99aa19b34">peak_pixel_format</a>* pixelFormatList = NULL;</div><div class="line"><span class="keywordtype">size_t</span> pixelFormatCount = 0;</div><div class="line"></div><div class="line"><span class="comment">// For peak_PixelFormat_GetList the second parameter is the buffer parameter.</span></div><div class="line"><span class="comment">// For Stage One, i.e. the size query, we pass a buffer parameter of NULL.</span></div><div class="line"><a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> status = <a class="code" href="group__pixelformat.html#ga38a90a792e13c860c9a13cab4e64e4a8">peak_PixelFormat_GetList</a>(hCam, NULL, &amp;pixelFormatCount);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The size of the pixel format list was successfully stored in pixelFormatCount.</span></div><div class="line">    <span class="comment">// We need to allocate a memory buffer that can store this number of pixel formats.</span></div><div class="line">    pixelFormatList = (<a class="code" href="group__pixelformat.html#ga6ed04f9d3e7600ff206598a99aa19b34">peak_pixel_format</a>*)malloc(pixelFormatCount * <span class="keyword">sizeof</span>(<a class="code" href="group__pixelformat.html#ga6ed04f9d3e7600ff206598a99aa19b34">peak_pixel_format</a>));</div><div class="line">    memset(pixelFormatList, 0, pixelFormatCount * <span class="keyword">sizeof</span>(<a class="code" href="group__pixelformat.html#ga6ed04f9d3e7600ff206598a99aa19b34">peak_pixel_format</a>));</div><div class="line"></div><div class="line">    <span class="comment">// For Stage Two, i.e. the data query, we pass the allocated memory as the buffer parameter.</span></div><div class="line">    status = <a class="code" href="group__pixelformat.html#ga38a90a792e13c860c9a13cab4e64e4a8">peak_PixelFormat_GetList</a>(hCam, pixelFormatList, &amp;pixelFormatCount);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// The pixel format list message was successfully stored in pixelFormatList.</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The list of selectable pixel formats may change in the time between Stage One and Stage Two if the camera configuration or the camera status changes in this time, for example in a different thread. <br />
 If there are more pixel formats selectable in Stage Two than in Stage One the function will return with <a class="el" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a10f6a4f6de3363b07d224bbce5f0697e" title="The buffer is too small to take the complete data. ">PEAK_STATUS_BUFFER_TOO_SMALL</a>. <br />
 If there are less pixel formats selectable in Stage Two than in Stage One the function will fill the buffer with the then selectable pixel formats and return the number of used list slots in <code>cameraCount</code>. <br />
 This behaviour is the same for all features which provide the list of valid values by this principle.</dd>
<dd>
If a function which implements this principle fills data into the buffer it will return the size it filled in the size parameter.</dd></dl>
<h3><a class="anchor" id="autotoc_md11"></a>
Alternative One Stage approach</h3>
<p>In order to spare the size query Stage you may want to pass a buffer that is large enough to store the maximum expected size of data.</p>
<p>For example, you can shortcut the size query for the camera list query if you provide a buffer that is capable of storing the camera descriptors of all cameras that could possibly be connected.</p>
<p>Another example is the last error query. The library will not provide an error message whose length exceeds 1 kB of characters. <br />
With this assumption the example on <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b" title="Query the last error. ">peak_Library_GetLastError</a> shortens to the following code. </p><div class="fragment"><div class="line"><a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> errCode = <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>;</div><div class="line"></div><div class="line"><span class="comment">// A memory buffer for 1024 characters should be sufficient to receive all possible error messages.</span></div><div class="line"><span class="keywordtype">char</span> errMsg[1024];</div><div class="line"><span class="keywordtype">size_t</span> errMsgSize = <span class="keyword">sizeof</span>(errMsg);</div><div class="line">memset(errMsg, 0, errMsgSize);</div><div class="line"></div><div class="line"><a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> status = <a class="code" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>(&amp;errCode, errMsg, &amp;errMsgSize);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The number of filled characters is provided in errMsgSize.</span></div><div class="line">    <span class="comment">// The string provided in errMsg is zero-terminated.</span></div><div class="line">}</div><div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a10f6a4f6de3363b07d224bbce5f0697e">PEAK_STATUS_BUFFER_TOO_SMALL</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// Oops. The error message exceeds the size of 1024 characters.</span></div><div class="line">}</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>If the data does not fit into the provided buffer the functions will return <a class="el" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a10f6a4f6de3363b07d224bbce5f0697e" title="The buffer is too small to take the complete data. ">PEAK_STATUS_BUFFER_TOO_SMALL</a>.</dd></dl>
<h2><a class="anchor" id="principle_camera_id_query"></a>
Camera ID Query</h2>
<p>The library provides specific functions for the translation of a certain camera property into the related camera id.</p>
<p>In general all library functions that are related to a certain camera instance require a camera handle (<a class="el" href="group__camera.html#ga3efc30cabd1efa32a2b56b29814c8966" title="peak Camera handle ">peak_camera_handle</a>) as a parameter to identify the individual camera which is addressed by the function call. <br />
In order to receive the camera handle that allows to use these functions the camera must have been opened before.</p>
<p>However, there are also library functions which can be used on a closed camera. <br />
These functions take a camera id (<a class="el" href="group__camera.html#ga1caad22090b248f1c3f23a45b89d7aca" title="peak Camera ID ">peak_camera_id</a>) instead of the camera handle.</p>
<p>In order to find the camera id of the camera with a certain property, for example a certain serial number, one would walk the camera descriptors in the camera list and look for the desired camera.</p>
<p>The library provides a number of functions save the application from this procedure.</p>
<p>These functions have in common that they deviate from the generic rule that every library function returns a status code. <br />
This allows a direct simple approach to address a camera with a certain property in the functions that require a camera id as identifier. <br />
The following code demonstrates this by the example of opening a camera with a certain serial number. </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> serialNumber[] = <span class="stringliteral">&quot;123456789&quot;</span>;</div><div class="line"><span class="keyword">const</span> <a class="code" href="group__camera.html#ga1caad22090b248f1c3f23a45b89d7aca">peak_camera_id</a> cameraID = <a class="code" href="group__camera.html#ga45e03af56912eb1b77074b8d1ce27a45">peak_Camera_ID_FromSerialNumber</a>(serialNumber);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__camera.html#ga1caad22090b248f1c3f23a45b89d7aca">peak_camera_id</a> != <a class="code" href="group__camera.html#ga4e58615f8e76b50062b70cad8a38e9bd">PEAK_INVALID_CAMERA_ID</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// Got the camera id for the camera with the desired serial number.</span></div><div class="line">    <span class="comment">// Open the camera.</span></div><div class="line">    <a class="code" href="group__camera.html#ga3efc30cabd1efa32a2b56b29814c8966">peak_camera_handle</a> hCam = <a class="code" href="group__numeric.html#ga5c456565e695b6f991cc51c0945c75db">PEAK_INVALID_HANDLE</a>;</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga5095dbd78f6442023906c4d1b26e45eb">PEAK_ERROR</a>(<a class="code" href="group__camera.html#ga60f230df362a5eb3d1f8d3b4c3387c79">peak_Camera_Open</a>(cameraID, &amp;hCam)) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Opening the camera failed.</span></div><div class="line">        <span class="comment">// Query the error details.</span></div><div class="line">        <a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> errCode = <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>;</div><div class="line">        <span class="keywordtype">char</span> errMsg[1024];</div><div class="line">        <span class="keywordtype">size_t</span> errMsgSize = <span class="keyword">sizeof</span>(errMsg);</div><div class="line">        memset(errMsg, 0, errMsgSize);</div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(<a class="code" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>(&amp;errCode, errMsg, &amp;errMsgSize)) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">        {</div><div class="line">            <span class="comment">// errCode: Error code for the failed call to peak_Camera_Open</span></div><div class="line">            <span class="comment">// errMsg:  Error description for the failed call to peak_Camera_Open</span></div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    <span class="comment">// The camera id query failed.</span></div><div class="line">    <span class="comment">// Query the error details.</span></div><div class="line">    <a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> errCode = <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>;</div><div class="line">    <span class="keywordtype">char</span> errMsg[1024];</div><div class="line">    <span class="keywordtype">size_t</span> errMsgSize = <span class="keyword">sizeof</span>(errMsg);</div><div class="line">    memset(errMsg, 0, errMsgSize);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(<a class="code" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>(&amp;errCode, errMsg, &amp;errMsgSize)) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// errCode: Error code for the failed call to peak_Camera_ID_FromSerialNumber</span></div><div class="line">        <span class="comment">// errMsg:  Error description for the failed call to peak_Camera_ID_FromSerialNumber</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p> An even simpler approach is demonstrated by this example: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> serialNumber[] = <span class="stringliteral">&quot;123456789&quot;</span>;</div><div class="line"><a class="code" href="group__camera.html#ga3efc30cabd1efa32a2b56b29814c8966">peak_camera_handle</a> hCam = <a class="code" href="group__numeric.html#ga5c456565e695b6f991cc51c0945c75db">PEAK_INVALID_HANDLE</a>;</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga5095dbd78f6442023906c4d1b26e45eb">PEAK_ERROR</a>(<a class="code" href="group__camera.html#ga60f230df362a5eb3d1f8d3b4c3387c79">peak_Camera_Open</a>(<a class="code" href="group__camera.html#ga45e03af56912eb1b77074b8d1ce27a45">peak_Camera_ID_FromSerialNumber</a>(serialNumber), &amp;hCam)) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// Opening the camera failed.</span></div><div class="line">    <span class="comment">// Query the error details.</span></div><div class="line">    <a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> errCode = <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>;</div><div class="line">    <span class="keywordtype">char</span> errMsg[1024];</div><div class="line">    <span class="keywordtype">size_t</span> errMsgSize = <span class="keyword">sizeof</span>(errMsg);</div><div class="line">    memset(errMsg, 0, errMsgSize);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(<a class="code" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>(&amp;errCode, errMsg, &amp;errMsgSize)) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// errCode: Error code for the failed call to peak_Camera_Open</span></div><div class="line">        <span class="comment">// errMsg:  Error description for the failed call to peak_Camera_Open</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p> Note that for the latter example it is not possible to query the error details for the actual problem. <br />
Instead the last error query will tell that <a class="el" href="group__camera.html#ga60f230df362a5eb3d1f8d3b4c3387c79" title="Open the camera by the Camera id. ">peak_Camera_Open</a> was called with an invalid camera id. <br />
This is because the last error information that was set by <a class="el" href="group__camera.html#ga45e03af56912eb1b77074b8d1ce27a45" title="Query the camera id by the serial number. ">peak_Camera_ID_FromSerialNumber</a> is overwritten with the last error information of the call to <a class="el" href="group__camera.html#ga60f230df362a5eb3d1f8d3b4c3387c79" title="Open the camera by the Camera id. ">peak_Camera_Open</a> which is proceeded after the call to <a class="el" href="group__camera.html#ga45e03af56912eb1b77074b8d1ce27a45" title="Query the camera id by the serial number. ">peak_Camera_ID_FromSerialNumber</a>.</p>
<h3><a class="anchor" id="autotoc_md12"></a>
On the specific return type and on error indication for camera id queries</h3>
<p>The majority of the library functions return a <a class="el" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68" title="peak Status codes ">peak_status</a> code. <br />
Besides these functions there is an additional group of functions which return a <a class="el" href="group__camera.html#ga1caad22090b248f1c3f23a45b89d7aca" title="peak Camera ID ">peak_camera_id</a>.</p>
<p>The decision to have these functions report the camera id as a return value rather than as a function parameter was made for the reason of a simpler and a more compact and efficient usage in the application code. <br />
By this an application can directly address a camera with a certain property value in the library functions that require a camera id as a camera identifier.</p>
<p>However, such a function can easily fail. For example if there is no camera with the specified property value.</p>
<p>If so, the function will return <a class="el" href="group__camera.html#ga4e58615f8e76b50062b70cad8a38e9bd" title="peak Invalid camera ID value ">PEAK_INVALID_CAMERA_ID</a> as an unspecific error indication. <br />
The details on the error can then be queried via <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b" title="Query the last error. ">peak_Library_GetLastError</a> which provides the error information as a <a class="el" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68" title="peak Status codes ">peak_status</a> code and a descriptive message on the error. <br />
See the example above.</p>
<h2><a class="anchor" id="principle_access_status_query"></a>
Access Status Query</h2>
<p>For a description of the term Access Status see <a class="el" href="index.html#term_access_status">Access Status</a>.</p>
<p>The library provides specific functions for the query of the current access status of a certain feature or a camera.</p>
<p>These functions have in common that they deviate from the generic rule that every library function returns a status code. <br />
This allows a direct simple switching on the access status, as the following example demonstrates: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="group__camera.html#ga1caad22090b248f1c3f23a45b89d7aca">peak_camera_id</a> camID = 1;</div><div class="line"><span class="keywordflow">switch</span> (peak_Camera_GetAccessStatusByCameraID(camID))</div><div class="line">{</div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group__status.html#ggac2a579ed0583aa95cac96738cdb7a44cae56fddbf15f56a13e94b41e070f82a82">PEAK_ACCESS_READWRITE</a>:</div><div class="line">        <span class="comment">// The camera is available for use.</span></div><div class="line">        <a class="code" href="group__camera.html#ga3efc30cabd1efa32a2b56b29814c8966">peak_camera_handle</a> hCam = <a class="code" href="group__numeric.html#ga5c456565e695b6f991cc51c0945c75db">PEAK_INVALID_HANDLE</a>;</div><div class="line">        <a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> status = <a class="code" href="group__camera.html#ga60f230df362a5eb3d1f8d3b4c3387c79">peak_Camera_Open</a>(camID, &amp;hCam);</div><div class="line">        ...</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group__status.html#ggac2a579ed0583aa95cac96738cdb7a44caba426c17386108edf18ba2e56fcea874">PEAK_ACCESS_NONE</a>:</div><div class="line">        <span class="comment">// The camera is currently not available for use.</span></div><div class="line">        <span class="comment">// Maybe it is opened in a different application</span></div><div class="line">        <span class="comment">// or it its configuration is not compatible to the system</span></div><div class="line">        <span class="comment">// (for example the cameras IP address is not properly configured).</span></div><div class="line">        ...</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group__status.html#ggac2a579ed0583aa95cac96738cdb7a44ca283891be31a435355d06a031da626106">PEAK_ACCESS_INVALID</a>:</div><div class="line">        <span class="comment">// The access status query failed.</span></div><div class="line">        <span class="comment">// Query the error details.</span></div><div class="line">        <a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> errCode = <a class="code" href="group__status.html#gga5d7125e526c2adaa15714aa4ed5b6d68a0177e60db7e1f72693d3cadc6887dd23">PEAK_STATUS_SUCCESS</a>;</div><div class="line">        <span class="keywordtype">char</span> errMsg[1024];</div><div class="line">        <span class="keywordtype">size_t</span> errMsgSize = <span class="keyword">sizeof</span>(errMsg);</div><div class="line">        memset(errMsg, 0, errMsgSize);</div><div class="line">        <span class="keyword">const</span> <a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> status = <a class="code" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b">peak_Library_GetLastError</a>(&amp;errCode, errMsg, &amp;errMsgSize);</div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">        {</div><div class="line">            <span class="comment">// errCode: Error code for the failed call to peak_Camera_GetAccessStatusByCameraID</span></div><div class="line">            <span class="comment">// errMsg:  Error description for the failed call to peak_Camera_GetAccessStatusByCameraID</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">}</div></div><!-- fragment --> <h3><a class="anchor" id="autotoc_md13"></a>
On the specific return type and on error indication for access status queries</h3>
<p>The majority of the library functions return a <a class="el" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68" title="peak Status codes ">peak_status</a> code. <br />
Besides these functions there is an additional group of functions which return a <a class="el" href="group__status.html#gac2a579ed0583aa95cac96738cdb7a44c" title="peak Access status codes ">peak_access_status</a> code.</p>
<p>The decision to have these functions report the access status as a return value rather than as a function parameter was made for the reason of a simpler and a more compact and efficient usage in the application code. <br />
By this an application can directly switch on the access status of a functional module or a camera.</p>
<p>Moreover, the functions that implement the Access Status Query principle will rarely fail, as long as the library is initialized.</p>
<p>Nonetheless, in theory such a function can fail. For example if the library is not initialized.</p>
<p>If so, the function will return <a class="el" href="group__status.html#ggac2a579ed0583aa95cac96738cdb7a44ca283891be31a435355d06a031da626106" title="Invalid access status code. ">PEAK_ACCESS_INVALID</a> as an unspecific error indication. <br />
The details on the error can then be queried via <a class="el" href="group__library.html#ga737a6016029ad809fc331bac87fedb9b" title="Query the last error. ">peak_Library_GetLastError</a> which provides the error information as a <a class="el" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68" title="peak Status codes ">peak_status</a> code and a descriptive message on the error. <br />
See the example above.</p>
<h3><a class="anchor" id="principle_access_status_query_simple"></a>
Simplified Evaluation of an Access Status</h3>
<p>In practice the access status will mostly be queried in order to determine whether a feature can be written to or read from.</p>
<p>The library offers the macros <a class="el" href="group__status.html#ga4ce57a3f76d039a591276808daec477d" title="Check for the access status code to indicate write access to be possible. ">PEAK_IS_WRITEABLE</a> and <a class="el" href="group__status.html#ga16f56b6e681790dd69bcef3d2220b6ea" title="Check for the access status code to indicate read access to be possible. ">PEAK_IS_READABLE</a> to allow phrasing these query in an even more compact way: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga4ce57a3f76d039a591276808daec477d">PEAK_IS_WRITEABLE</a>(<a class="code" href="group__exposuretime.html#ga86ff74fda8310b88f852581d1ffbeec8">peak_ExposureTime_GetAccessStatus</a>(hCam)) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The exposure time feature is writeable.</span></div><div class="line">    <a class="code" href="group__exposuretime.html#ga2e4b26ae4b73fd66ca613571144e1499">peak_ExposureTime_Set</a>(hCam, 100.0);</div><div class="line">}</div></div><!-- fragment --><p> But: Be aware that these macros will return <a class="el" href="group__numeric.html#ga1b38d011f09fcaa45cb3eadbfbc7b9b5" title="peak Boolean value for &#39;false&#39; or &#39;no&#39; ">PEAK_FALSE</a> not only if the feature is not writeable/readable. They will return <a class="el" href="group__numeric.html#ga1b38d011f09fcaa45cb3eadbfbc7b9b5" title="peak Boolean value for &#39;false&#39; or &#39;no&#39; ">PEAK_FALSE</a> also if the access status query failed. For example because the passed handle is invalid.<br />
So, for to be sure that the access status query did not fail on the macro returning <a class="el" href="group__numeric.html#ga1b38d011f09fcaa45cb3eadbfbc7b9b5" title="peak Boolean value for &#39;false&#39; or &#39;no&#39; ">PEAK_FALSE</a>, you would have to further investigate the access status on <a class="el" href="group__numeric.html#ga1b38d011f09fcaa45cb3eadbfbc7b9b5" title="peak Boolean value for &#39;false&#39; or &#39;no&#39; ">PEAK_FALSE</a>: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="group__status.html#gac2a579ed0583aa95cac96738cdb7a44c">peak_access_status</a> accessStatus = <a class="code" href="group__exposuretime.html#ga86ff74fda8310b88f852581d1ffbeec8">peak_ExposureTime_GetAccessStatus</a>(hCam);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga4ce57a3f76d039a591276808daec477d">PEAK_IS_WRITEABLE</a>(accessStatus) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The exposure time feature is readable.</span></div><div class="line">    <span class="keywordtype">double</span> exposureTime;</div><div class="line">    <a class="code" href="group__exposuretime.html#gaad6a328212d86bdb29448ee3e6aeb538">peak_ExposureTime_Get</a>(hCam, &amp;exposureTime);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    <span class="comment">// The exposure time feature is not readable or the access status query failed.</span></div><div class="line">    <span class="keywordflow">if</span> (accessStatus == <a class="code" href="group__status.html#ggac2a579ed0583aa95cac96738cdb7a44ca283891be31a435355d06a031da626106">PEAK_ACCESS_INVALID</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Access status query failed</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> <h2><a class="anchor" id="principle_boolean_status_queries"></a>
Boolean Status Queries</h2>
<p>The library provides specific functions for the query of a boolean status.</p>
<p>These functions have in common that they deviate from the generic rule that every library function returns a status code. <br />
This allows a direct simple switching on the boolean status, as the following examples in the following sections demonstrate.</p>
<p>The downside of this approach is that it is not possible for these functions to return an error. See the section <a class="el" href="index.html#principle_boolean_status_queries_return_type">On the specific return type and on error indication for boolean status queries</a> on this topic.</p>
<h3><a class="anchor" id="principle_enabled_status_query"></a>
Enabled Status Query</h3>
<p>For a description of the term Enabled Status see <a class="el" href="index.html#term_enabled_status">Enabled Status</a>.</p>
<p>The library provides specific functions for the query of the current enabled status of a certain feature.</p>
<p>These functions have in common that they deviate from the generic rule that every library function returns a status code. <br />
This allows a direct simple switching on the enabled status, as the following example demonstrates: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__trigger.html#gad8e1c1540e3a0e998362e2cbcc04ff8d">peak_Trigger_IsEnabled</a>(hTriggerConfig) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The trigger configuration is currently enabled.</span></div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    <span class="comment">// The trigger configuration is currently disabled</span></div><div class="line">    <span class="comment">// or the query failed.</span></div><div class="line">}</div></div><!-- fragment --><p> The downside of this approach is that it is not possible for these functions to return an error. See the section <a class="el" href="index.html#principle_boolean_status_queries_return_type">On the specific return type and on error indication for boolean status queries</a> on this topic.</p>
<h3><a class="anchor" id="principle_valid_values_organization_query"></a>
Valid Values Organization Query</h3>
<p>For a description of the libraries concept on the query for a features valid values see <a class="el" href="index.html#concept_feature_valid_values_query">Feature Valid Values Query</a>.</p>
<p>The library provides specific functions for the query of the organization of the valid values for a certain feature.</p>
<p>These functions have in common that they deviate from the generic rule that every library function returns a status code. <br />
This allows a direct simple switching on the indication whether the features valid values are organized as a range or as a list, as the following example demonstrates: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__pixelclock.html#ga0a0bd14ba54dbc3f64dbcba8aac0c24e">peak_PixelClock_HasRange</a>(hCam) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The pixel clock features valid values are organized as a range.</span></div><div class="line">    status = <a class="code" href="group__pixelclock.html#ga96b229f88646ced2dff4fd290b368830">peak_PixelClock_GetRange</a>(hCam, &amp;min, &amp;max, &amp;inc);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    <span class="comment">// The pixel clock features valid values are organized as a list.</span></div><div class="line">    status = <a class="code" href="group__pixelclock.html#gaa47676f3b2dae1f4a851bcd91f683ae5">peak_PixelClock_GetList</a>(hCam, &amp;list, &amp;count);</div><div class="line">}</div></div><!-- fragment --><p> The downside of this approach is that it is not possible for these functions to return an error. See the section <a class="el" href="index.html#principle_boolean_status_queries_return_type">On the specific return type and on error indication for boolean status queries</a> on this topic.</p>
<h3><a class="anchor" id="principle_boolean_status_queries_return_type"></a>
On the specific return type and on error indication for boolean status queries</h3>
<p>The majority of the library functions return a <a class="el" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68" title="peak Status codes ">peak_status</a> code. <br />
Besides these functions there is an additional group of functions which return a <a class="el" href="group__numeric.html#gae48634ccef9d65ee212b22df7e53fab2" title="peak Boolean type ">peak_bool</a> value.</p>
<p>The decision to have these functions report the boolean status as a return value rather than as a function parameter was made for the reason of a simpler and a more compact and efficient usage in the application code. <br />
By this an application can directly switch on the boolean status of a functional module.</p>
<p>Moreover, the functions that implement the Boolean Status Query principle will rarely fail, as long as the library is initialized.</p>
<p>Nonetheless, in theory such a function can fail. For example if the library is not initialized or if it is passed invalid arguments.</p>
<p>If so, the function will return <a class="el" href="group__numeric.html#ga1b38d011f09fcaa45cb3eadbfbc7b9b5" title="peak Boolean value for &#39;false&#39; or &#39;no&#39; ">PEAK_FALSE</a>. <br />
As the boolean type does not offer a value beyond true and false it is not possible to indicate failure of the enabled status query.</p>
<p>A failure of the enabled status query is treated just like the feature being disabled. <br />
It is not treated as an error and the library does not store last error information on this.</p>
<h1><a class="anchor" id="functional_concepts"></a>
Functional Concepts</h1>
<p>This section provides explanations on the basic functioning of IDS peak comfortC.</p>
<h2><a class="anchor" id="concept_buffer_preparation"></a>
Buffer Preparation</h2>
<p>In order to receive acquired images from the camera and provide the data to the application the library must be provided with memory buffers to which the incoming image data can be stored. <br />
For an efficient data transfer these buffers must be sufficient in size and number.</p>
<p>A buffer is sufficient in size if it can store the complete image data that results from the feature settings.</p>
<p>The number of buffers is sufficient if all acquired images can be captured by the library and provided to the application. <br />
This is enabled if the library at any time has a buffer available to store incoming image data. In other words there must always be at least one buffer that is not locked for processing by the application.</p>
<p>The library provides two options for the preparation of the image buffers. <br />
The <a class="el" href="index.html#concept_automatic_buffer_preparation">Automatic Buffer Preparation</a> mode is recommended as long as the application does not need to predetermine the memory addresses of the buffers. <br />
If the application needs to use buffers at well-defined memory addresses it must use the <a class="el" href="index.html#concept_manual_buffer_preparation">Manual Buffer Preparation</a> mode.</p>
<h3><a class="anchor" id="concept_automatic_buffer_preparation"></a>
Automatic Buffer Preparation</h3>
<p>In this mode the library takes care for the preparation of the buffers.</p>
<p>The automatic buffer preparation mode is active by default. The application can switch to the <a class="el" href="index.html#concept_manual_buffer_preparation">Manual Buffer Preparation</a> mode by using <a class="el" href="group__manual__buffer__preparation.html#gaa4279b179422bc32a3fadafbfa87bd03" title="Announce an image buffer. ">peak_Acquisition_Buffer_Announce</a> to provide self defined buffers.</p>
<p>The library will allocate a sufficient number of sufficiently sized buffers to store the acquired images. <br />
The preparation of the buffers is done in the context of an acquisition start. The size and the number of the buffers that the library allocates depend on the feature settings that apply at the time <a class="el" href="group__acquisition__and__buffer__preparation.html#gad050727e83ebb8debf4b2a72e326e6fd" title="Start an acquisition. ">peak_Acquisition_Start</a> is called.</p>
<p>The following example demonstrates the way to a first image in automatic buffer preparation mode. <br />
The error handling is left out for the reason of example clarity. </p><div class="fragment"><div class="line"><a class="code" href="group__camera.html#ga3efc30cabd1efa32a2b56b29814c8966">peak_camera_handle</a> hCam = <a class="code" href="group__numeric.html#ga5c456565e695b6f991cc51c0945c75db">PEAK_INVALID_HANDLE</a>;</div><div class="line"><a class="code" href="group__frame.html#gadad978db0bca60703cee6ae48f0ff0b4">peak_frame_handle</a> hFrame = <a class="code" href="group__numeric.html#ga5c456565e695b6f991cc51c0945c75db">PEAK_INVALID_HANDLE</a>;</div><div class="line"><a class="code" href="structpeak__buffer.html">peak_buffer</a> buffer = { NULL, 0, NULL };</div><div class="line"></div><div class="line"><a class="code" href="group__library.html#ga227ac88cf00b57e47038870d652ae1bd">peak_Library_Init</a>();</div><div class="line"><a class="code" href="group__camera.html#ga24ae3859d744f8626d490a6b49a49427">peak_CameraList_Update</a>(NULL);</div><div class="line"><a class="code" href="group__camera.html#gad4bd00056115d86aabe7333e5df4fd29">peak_Camera_OpenFirstAvailable</a>(&amp;hCam);</div><div class="line"><a class="code" href="group__acquisition__and__buffer__preparation.html#gad050727e83ebb8debf4b2a72e326e6fd">peak_Acquisition_Start</a>(hCam, 1);</div><div class="line"><a class="code" href="group__acquisition__and__buffer__preparation.html#ga88c3a24e77a8e0936ec17ca723edcad5">peak_Acquisition_WaitForFrame</a>(hCam, <a class="code" href="group__numeric.html#ga769043b0886442dced8acc15f9c39017">PEAK_INFINITE</a>, &amp;hFrame);</div><div class="line"><a class="code" href="group__frame__info.html#gac7e593c8bc42cdfe13af89011a472a5c">peak_Frame_Buffer_Get</a>(hFrame, &amp;buffer);</div><div class="line"></div><div class="line"><span class="comment">// The memory address where the image data starts is buffer.memoryAddress.</span></div><div class="line"></div><div class="line"><a class="code" href="group__frame.html#ga8cbd389a450a161e1b6f9e5c72cedba5">peak_Frame_Release</a>(hCam, hFrame);</div><div class="line"><a class="code" href="group__camera.html#gacaf6964b8d322183b9405935b4704a33">peak_Camera_Close</a>(hCam);</div><div class="line"><a class="code" href="group__library.html#ga260575da51ce659a44b19da4f4ab6724">peak_Library_Exit</a>();</div></div><!-- fragment --><h3><a class="anchor" id="concept_manual_buffer_preparation"></a>
Manual Buffer Preparation</h3>
<p>In this mode the application is responsible for the preparation of the buffers.</p>
<p>The application must allocate a sufficient number of sufficiently sized buffers to store the acquired images. <br />
Then the application must announce the allocated buffers to the library. The preparation of the buffers must be done before an acquisition is started. <br />
The library checks for the announced buffers to be sufficient in the context of an acquisition start. If the buffers are not sufficient <a class="el" href="group__acquisition__and__buffer__preparation.html#gad050727e83ebb8debf4b2a72e326e6fd" title="Start an acquisition. ">peak_Acquisition_Start</a> will fail.</p>
<p>The minimum number of buffers that is required by the library can be queried via <a class="el" href="group__manual__buffer__preparation.html#ga83d7443abca1e5b9b4229bd9b0613554" title="Query the required image buffer count. ">peak_Acquisition_Buffer_GetRequiredCount</a>. The minimum size of the individual buffers depends on the feature settings and can be queried via <a class="el" href="group__manual__buffer__preparation.html#gad42de1ffaea9bd0740f7e4e0263db4fa" title="Query the required image buffer size. ">peak_Acquisition_Buffer_GetRequiredSize</a>.</p>
<p>In manual buffer preparation mode the application is responsible for the allocated buffer memory. I.e. the application must allocate the memory, and free it when the buffers are not used any longer. <br />
The application must make sure that the memory is valid as long as the buffer is announced to the library.</p>
<p>The following example demonstrates the way to a first image in manual buffer preparation mode. <br />
The error handling is left out for the reason of example clarity. </p><div class="fragment"><div class="line"><a class="code" href="group__camera.html#ga3efc30cabd1efa32a2b56b29814c8966">peak_camera_handle</a> hCam = <a class="code" href="group__numeric.html#ga5c456565e695b6f991cc51c0945c75db">PEAK_INVALID_HANDLE</a>;</div><div class="line"><a class="code" href="group__frame.html#gadad978db0bca60703cee6ae48f0ff0b4">peak_frame_handle</a> hFrame = <a class="code" href="group__numeric.html#ga5c456565e695b6f991cc51c0945c75db">PEAK_INVALID_HANDLE</a>;</div><div class="line"><span class="keywordtype">size_t</span> requiredBufferCount = 0;</div><div class="line"><span class="keywordtype">size_t</span> requiredBufferSize = 0;</div><div class="line">uint8_t** myBuffers = NULL;</div><div class="line"><a class="code" href="structpeak__buffer.html">peak_buffer</a> buffer = { NULL, 0, NULL };</div><div class="line"></div><div class="line"><a class="code" href="group__library.html#ga227ac88cf00b57e47038870d652ae1bd">peak_Library_Init</a>();</div><div class="line"><a class="code" href="group__camera.html#ga24ae3859d744f8626d490a6b49a49427">peak_CameraList_Update</a>(NULL);</div><div class="line"><a class="code" href="group__camera.html#gad4bd00056115d86aabe7333e5df4fd29">peak_Camera_OpenFirstAvailable</a>(&amp;hCam);</div><div class="line"></div><div class="line"><span class="comment">// apply all desired feature settings before asking for the required buffer size</span></div><div class="line"></div><div class="line"><span class="comment">// query the required buffer count and size</span></div><div class="line"><a class="code" href="group__manual__buffer__preparation.html#ga83d7443abca1e5b9b4229bd9b0613554">peak_Acquisition_Buffer_GetRequiredCount</a>(hCam, &amp;requiredBufferCount);</div><div class="line"><a class="code" href="group__manual__buffer__preparation.html#gad42de1ffaea9bd0740f7e4e0263db4fa">peak_Acquisition_Buffer_GetRequiredSize</a>(hCam, &amp;requiredBufferSize);</div><div class="line"></div><div class="line"><span class="comment">// allocate an array for the buffers</span></div><div class="line"><span class="comment">// we must remember the buffer addresses as we have to revoke and free the buffers when we are finished</span></div><div class="line">myBuffers = (uint8_t**)malloc(requiredBufferCount * <span class="keyword">sizeof</span>(uint8_t*));</div><div class="line">memset(myBuffers, 0, requiredBufferCount * <span class="keyword">sizeof</span>(uint8_t*));</div><div class="line"></div><div class="line"><span class="comment">// allocate and announce the individual buffers</span></div><div class="line"><span class="comment">// note that we enter the manual buffer preparation mode with the first call to peak_Acquisition_Buffer_Announce</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; requiredBufferCount; i++)</div><div class="line">{</div><div class="line">    myBuffers[i] = (uint8_t*)malloc(requiredBufferSize);</div><div class="line">    <a class="code" href="group__manual__buffer__preparation.html#gaa4279b179422bc32a3fadafbfa87bd03">peak_Acquisition_Buffer_Announce</a>(hCam, myBuffers[i], requiredBufferSize, NULL);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// for the example we acquire only one image</span></div><div class="line"><span class="comment">// note that the number of buffers we have to announce nevertheless is requiredBufferCount</span></div><div class="line"><a class="code" href="group__acquisition__and__buffer__preparation.html#gad050727e83ebb8debf4b2a72e326e6fd">peak_Acquisition_Start</a>(hCam, 1);</div><div class="line"><a class="code" href="group__acquisition__and__buffer__preparation.html#ga88c3a24e77a8e0936ec17ca723edcad5">peak_Acquisition_WaitForFrame</a>(hCam, <a class="code" href="group__numeric.html#ga769043b0886442dced8acc15f9c39017">PEAK_INFINITE</a>, &amp;hFrame);</div><div class="line"><a class="code" href="group__frame__info.html#gac7e593c8bc42cdfe13af89011a472a5c">peak_Frame_Buffer_Get</a>(hFrame, &amp;buffer);</div><div class="line"></div><div class="line"><span class="comment">// The memory address where the image data starts is buffer.memoryAddress.</span></div><div class="line"><span class="comment">// It is one of the addresses that we announced.</span></div><div class="line"></div><div class="line"><a class="code" href="group__frame.html#ga8cbd389a450a161e1b6f9e5c72cedba5">peak_Frame_Release</a>(hCam, hFrame);</div><div class="line"></div><div class="line"><span class="comment">// now that we are done with the acquisition we need to revoke the buffers and free the associated memory</span></div><div class="line"><span class="comment">// note that we enter the automatic buffer preparation mode with the first call to peak_Acquisition_Buffer_Announce</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; requiredBufferCount; i++)</div><div class="line">{</div><div class="line">    <a class="code" href="group__manual__buffer__preparation.html#ga7ca0034c66f4482785a31ab35e17f9b2">peak_Acquisition_Buffer_Revoke</a>(hCam, myBuffers[i]);</div><div class="line">    free(myBuffers[i]);</div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="group__camera.html#gacaf6964b8d322183b9405935b4704a33">peak_Camera_Close</a>(hCam);</div><div class="line"><a class="code" href="group__library.html#ga260575da51ce659a44b19da4f4ab6724">peak_Library_Exit</a>();</div></div><!-- fragment --><h2><a class="anchor" id="concept_feature_valid_values_query"></a>
Feature Valid Values Query</h2>
<p>Most of the library and camera features require a setting to be within a certain set of valid values.</p>
<p>The definition of the set of valid values can be of one of two types: </p><ul>
<li>a <b>range</b> of values with a minimum value, a maximum value, and a value increment or step width </li>
<li>a <b>list</b> of discrete values</li>
</ul>
<p>It depends on the specific feature whether its valid values are organized as a range or as a list. <br />
 For those features with a range of valid values the library provides a function which is named according to the following pattern: </p><blockquote class="doxtable">
<p>peak_&lt;FeatureName&gt;_GetRange() </p>
</blockquote>
<p>For those features with a list of valid values the library provides a function which is named according to the following pattern: </p><blockquote class="doxtable">
<p>peak_&lt;FeatureName&gt;_GetList() </p>
</blockquote>
<p>Moreover, for individual features it depends on the specific camera model whether the valid values for a feature are organized as a range or as a list. <br />
For these features the library provides both of the above-mentioned functions and an addition function which indicates which one to use. This function follows this pattern: </p><blockquote class="doxtable">
<p>peak_&lt;FeatureName&gt;_HasRange() </p>
</blockquote>
<p>The following code demonstrates how to query the valid values using the pixel clock feature as an example. </p><div class="fragment"><div class="line"><span class="comment">// The organization of the valid values for the pixel clock feature depends on the specific camera.</span></div><div class="line"><span class="comment">// So, first we have to decide whether to query a range or a list.</span></div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__pixelclock.html#ga0a0bd14ba54dbc3f64dbcba8aac0c24e">peak_PixelClock_HasRange</a>(hCam) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">{</div><div class="line">    <span class="comment">// The valid values are organized as a range.</span></div><div class="line">    <span class="keywordtype">double</span> minPixelClock_MHz = .0;</div><div class="line">    <span class="keywordtype">double</span> maxPixelClock_MHz = .0;</div><div class="line">    <span class="keywordtype">double</span> incPixelClock_MHz = .0;</div><div class="line">    <a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> status = <a class="code" href="group__pixelclock.html#ga96b229f88646ced2dff4fd290b368830">peak_PixelClock_GetRange</a>(hCam, &amp;minPixelClock_MHz, &amp;maxPixelClock_MHz, &amp;incPixelClock_MHz);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status))</div><div class="line">    {</div><div class="line">        <span class="comment">// A valid value for the pixel clock is between minPixelClock_MHz and maxPixelClock_MHz</span></div><div class="line">        <span class="comment">// with an increment of incPixelClock_MHz.</span></div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    <span class="comment">// The valid values are organized as a list.</span></div><div class="line">    <span class="keywordtype">size_t</span> pixelClockCount = 0;</div><div class="line">    <a class="code" href="group__status.html#ga5d7125e526c2adaa15714aa4ed5b6d68">peak_status</a> status = <a class="code" href="group__pixelclock.html#gaa47676f3b2dae1f4a851bcd91f683ae5">peak_PixelClock_GetList</a>(hCam, NULL, &amp;pixelClockCount);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">    {</div><div class="line">        <span class="keywordtype">double</span>* pixelClockList = (<span class="keywordtype">double</span>*)malloc(pixelClockCount * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div><div class="line">        memset(pixelClockList, 0, pixelClockCount * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div><div class="line">        status = <a class="code" href="group__pixelclock.html#gaa47676f3b2dae1f4a851bcd91f683ae5">peak_PixelClock_GetList</a>(hCam, pixelClockList, &amp;pixelClockCount);</div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__status.html#ga6582a5111334cb6422abf8f3d1678e60">PEAK_SUCCESS</a>(status) == <a class="code" href="group__numeric.html#gad46c62b3d02f90e5437a576f60f69ff7">PEAK_TRUE</a>)</div><div class="line">        {</div><div class="line">            <span class="comment">// A valid value for the pixel clock is one out pixelClockList.</span></div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="concept_generic_feature_access"></a>
Generic Feature Access (GFA)</h2>
<p>The objective of IDS peak comfortC is to encapsulate the underlying GenICam interface so, that the user does not need to have a deep knowledge of the GenICam standard and its concepts. <br />
This is realized by the libraries <a class="el" href="index.html#term_convenience_interface">Convenience Interface</a> where the functions have a clear naming, typing and behaviour.</p>
<p>Nonetheless, the library provides functions which enable the direct access to the systems feature nodes, i.e. to the nodemap of a GenTL module or to the nodemap of the remote device. <br />
This is realized by the libraries generic feature access (GFA) interface where the functions have a more abstract naming, typing and behaviour.</p>
<p>This generic feature access functions can be used to accomplish tasks which are not (yet) available via the libraries convenience interface.</p>
<p>The GFA functions address single feature nodes of the addressed module and apply parameters on a low-level, atomic basis, whereas the convenience functions typically implement a compound functionality. <br />
For example setting the pixel clock to a certain value via the convenience interface is about calling <a class="el" href="group__pixelclock.html#gac8e31d03a544e662cb58898ba29823dd">peak_PixelClock_Set</a>, whereas setting the pixel clock via the GFA interface requires to first set a so-called selector node ("DeviceClockSelector") to a certain value and then writing the desired pixel clock value to the node with the name "DeviceClockFrequency". <br />
Actually, the implementation of the convenience functions internally also operates on the atomic nodes to achieve the desired effect on the configuration. <br />
This raises the problem that an unsynchronized concurrent write access via the GFA interface may interfere with the implementation of a convenience interface function. <br />
In the pixel clock example above an unfortunate thread context switch could lead to a GFA access changing the DeviceClockSelector node just before the convenience implementation was able to write the desired pixel clock value to the DeviceClockFrequency node. <br />
In order to prevent the system from such situations and to synchronize the use of the GFA interface with the procedures of the convenience interface the library provides a specific mode. All write accesses via the GFA interface are possible only in this 'GFA write access mode'. <br />
So, in order to issue a write access via the GFA interface the GFA write access mode must be enabled by the application. <br />
The GFA write access mode takes effect on a per-camera basis. <br />
The following rules apply in respect to the GFA write access mode:</p><ul>
<li>While the GFA write access mode is enabled all calls to the camera related convenience interface functions are rejected (<a class="el" href="group__status.html#ggac2a579ed0583aa95cac96738cdb7a44ca1f01f0c9218615efd4ad706642056c7c" title="No access. ">PEAK_ACCESS_GFA_LOCK</a>).</li>
<li>While the GFA write access mode is disabled all calls to GFA write functions are rejected.</li>
<li>The GFA write access mode can be enabled only if there is no running call to a convenience interface function.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The name of a feature in the convenience interface is not necessarily the same name as the corresponding node name as defined by the GenICam Standard Feature Naming Convention or the GenTL Standard Feature Naming Convention. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <!-- Hide NavPath for now --><!--  -->
    <li class="footer">Generated on Fri Oct 27 2023 - &copy; <a style="color: #000000;text-decoration:none;" href="http://www.ids-imaging.com">IDS Imaging Development Systems GmbH</a></li>
  </ul>
</div>
</body>
</html>
